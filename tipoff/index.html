<!-- Roboto Bold from Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">

<style>
  .tip-embed {
    position: relative;
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 20px;
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
    font-family: sans-serif;
    box-sizing: border-box;
  }
  .tip-embed img.tip-logo {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 60px;
    height: auto;
  }
  .tip-embed h3 {
    font-family: 'Roboto', sans-serif;
    font-weight: 700;
    font-size: 2rem;
    text-align: left;
    margin: 0 0 8px;
  }
  .tip-embed p {
    font-family: 'Roboto', sans-serif;
    font-weight: 700;
    font-size: 1.2rem;
    text-align: left;
    color: #555;
    margin: 0 0 20px;
  }
  .tip-embed textarea {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    resize: vertical;
    margin-bottom: 10px;
    box-sizing: border-box;
  }
  .tip-embed button {
    width: 100%;
    padding: 12px;
    background: #000;
    color: #fff;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
  }
  .tip-embed #form-status {
    margin-top: 15px;
    font-size: .9rem;
  }

  /* Mobile adjustments */
  @media (max-width: 600px) {
    .tip-embed h3 {
      font-size: 1.5rem;
    }
    .tip-embed p {
      font-size: 1rem;
    }
    .tip-embed img.tip-logo {
      width: 40px;
      top: 12px;
      right: 12px;
    }
    .tip-embed {
      padding: 15px;
    }
  }
</style>

<div class="tip-embed">
  <!-- Logo (update path if needed) -->
  <img src="gazettelogo.png" alt="The Gazette logo" class="tip-logo">

  <!-- Headings -->
  <h3>Got a tip?</h3>
  <p>Share any information with us about this story</p>

  <!-- Form -->
  <form id="tip-form" action="https://formspree.io/f/xkgbvzbl" method="POST">
    <!-- spam trap -->
    <input type="text" name="_gotcha" style="display:none;">

    <textarea
      name="info"
      id="info"
      rows="1"
      placeholder="Your name, contact info & tip…"
      required
    ></textarea>

    <button type="submit">Send</button>
    <div id="form-status"></div>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var form = document.getElementById('tip-form');
    var status = document.getElementById('form-status');

    form.addEventListener('submit', function(ev) {
      ev.preventDefault();
      status.style.color = '';
      status.textContent = 'Sending…';

      var data = new FormData(form);
      fetch(form.action, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      })
      .then(function(response) {
        if (response.ok) {
          form.reset();
          status.style.color = 'green';
          status.textContent = 'Thanks! Your tip is on its way.';
        } else {
          response.json().then(function(data) {
            status.style.color = 'red';
            var errors = data.errors || [];
            status.textContent = errors.map(function(err) { return err.message; }).join(', ')
                               || 'Oops! There was a problem.';
          });
        }
      })
      .catch(function() {
        status.style.color = 'red';
        status.textContent = 'Network error. Please try again.';
      });
    });
  });
</script>
