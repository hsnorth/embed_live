<!-- Tip embed for The Gazette with centered heading & subheading -->
<div style="position: relative; border:1px solid #ccc; padding:20px; border-radius:12px; max-width:500px; font-family:sans-serif; margin:0 auto;">
  <!-- Logo -->
  <img
    src="gazettelogo.png"
    alt="The Gazette"
    style="position:absolute; top:16px; right:16px; width:60px; height:auto;"
  >

  <!-- Centered heading -->
  <h3 style="text-align:center; margin:0 0 10px;">
    Got a tip?
  </h3>
  <!-- Centered subheading -->
  <p style="text-align:center; margin:0 0 20px; font-size:.95rem; color:#555;">
    Share any information with us about this story
  </p>

  <form id="tip-form" action="https://formspree.io/f/xkgbvzbl" method="POST">
    <!-- spam trap -->
    <input type="text" name="_gotcha" style="display:none;">

    <textarea
      name="info"
      id="info"
      rows="1"
      placeholder="Your name, contact info & tip…"
      required
      style="width:100%; padding:8px; margin-bottom:10px; border:1px solid #ccc; border-radius:4px; resize:vertical;"
    ></textarea>

    <button
      type="submit"
      style="width:100%; padding:12px; background:#000; color:#fff; border:none; border-radius:4px; font-size:1rem; cursor:pointer;"
    >
      Send
    </button>

    <div id="form-status" style="margin-top:15px; font-size:.9rem;"></div>
  </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('tip-form');
  var status = document.getElementById('form-status');

  form.addEventListener('submit', function(ev) {
    ev.preventDefault();
    status.style.color = '';
    status.textContent = 'Sending…';

    var data = new FormData(form);
    fetch(form.action, {
      method: 'POST',
      body: data,
      headers: { 'Accept': 'application/json' }
    })
    .then(function(response) {
      if (response.ok) {
        form.reset();
        status.style.color = 'green';
        status.textContent = 'Thanks! Your tip is on its way.';
      } else {
        response.json().then(function(data) {
          status.style.color = 'red';
          var errors = data.errors || [];
          status.textContent = errors.map(function(err) { return err.message; }).join(', ')
                             || 'Oops! There was a problem.';
        });
      }
    })
    .catch(function() {
      status.style.color = 'red';
      status.textContent = 'Network error. Please try again.';
    });
  });
});
</script>
