<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The News Haul</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="weekday-closed-overlay" style="display: none;">
        <div class="weekday-closed-content">
            <h1 id="weekday-message-placeholder"></h1>
            <form id="weekday-signup-form" class="weekday-signup-form">
                <label for="weekday-email">Get the haul delivered to your inbox</label>
                <div class="weekday-input-group">
                    <input type="email" id="weekday-email" placeholder="Your email address" required>
                    <button type="submit">Subscribe</button>
                </div>
            </form>
        </div>
    </div>

    <div id="loader">
        <img src="https://firebasestorage.googleapis.com/v0/b/newsletter-496de.firebasestorage.app/o/images%2Fbag.png?alt=media&token=222e6f04-fefb-4091-8678-cbab7840ce7c" alt="Loading..." class="loader-icon">
        <span class="loader-cursor"></span>
        <h1 id="loader-message" class="loader-message"></h1> 
    </div>

    <div class="mobile-top-bar">
        <a href="#" id="mobileJoinLink">Subscribe</a> | <a href="#" id="mobileSignInLink">Log in</a>
    </div>

    <nav class="mobile-nav" aria-hidden="true">
        <div class="mobile-nav-header">
            <button class="close-menu-btn" aria-label="Close menu">
                &times;
            </button>
            <a href="index.html" class="mobile-nav-logo">THE NEWS HAUL</a>
        </div>
        <ul class="mobile-nav-links">
            <li>
                <a href="#">
                    Latest Issue
                    <span class="sub-link">Montreal #3</span>
                </a>
            </li>
            <li>
            </li>
        </ul>
        <hr class="mobile-nav-divider">
        <ul class="mobile-nav-links secondary-links">
            <li><a href="#" class="js-how-it-works-trigger">How the Haul works</a></li>
        </ul>
    </nav>

    <header class="main-header">
        <div class="header-top-bar">
            <div class="top-bar-left">
                <button class="menu-toggle" aria-label="Open menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
                <a href="#" class="nav-link how-it-works js-how-it-works-trigger">HOW THE HAUL WORKS?</a>
            </div>

            <a href="index.html" class="scrolled-logo-link">THE NEWS HAUL</a>

            <div class="user-actions">
                <div class="desktop-only user-auth-links">
                    <a href="#" class="nav-link" id="signInLink">SIGN IN</a>
                    <a href="#" class="btn btn-primary" id="joinLink">JOIN COMMUNITY</a>
                </div>
            
                <a href="#" id="mobile-account-trigger" class="mobile-only-icon" aria-label="My Account">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </a>
            
                <a href="#" class="mobile-only-icon" aria-label="Cart">
                    <img src="https://firebasestorage.googleapis.com/v0/b/newsletter-496de.firebasestorage.app/o/images%2Fbag.png?alt=media&token=222e6f04-fefb-4091-8678-cbab7840ce7c" alt="Shopping bag icon">
                </a>
            </div>
        </div>

        <div class="header-branding">
            <div class="branding-col branding-col-left">
                <img src="https://firebasestorage.googleapis.com/v0/b/newsletter-496de.firebasestorage.app/o/images%2Fenv.png?alt=media&token=fb75475e-e4b1-4f9f-8dfc-75b76ad1cac9" alt="Envelope icon" class="branding-icon env-icon">
            </div>
            <div class="branding-col branding-col-center">
                <h1 class="logo">The News Haul</h1>
                <p class="header-date" id="header-date-placeholder">Friday, September 26, 2025</p>
            </div>
            <div class="branding-col branding-col-right">
                <img src="https://firebasestorage.googleapis.com/v0/b/newsletter-496de.firebasestorage.app/o/images%2Fbag.png?alt=media&token=222e6f04-fefb-4091-8678-cbab7840ce7c" alt="Bag icon" class="branding-icon">
            </div>
        </div>
        
        <nav class="main-nav original-nav">
            <ul>
                <li><a href="#welcome">This week in Montreal</a></li>
                <li><a href="#essentials">Essentials</a></li>
                <li><a href="#imports">Imports</a></li>
                <li><a href="#deliveries">Next deliveries</a></li>
                <li><a href="#cannoli">Cannoli</a></li>
                <li><a href="#coffee">Coffee Review</a></li>
            </ul>
        </nav>
    </header>

    <main id="welcome" class="content-wrapper">
        <aside class="sidebar-container">
            <div class="brief-sidebar">
                <div class="sidebar-pin">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 32" fill="currentColor">
                        <path d="M0 0 H24 V32 L12 24 L0 32 Z"></path>
                    </svg>
                </div>
                <div class="sidebar-meta">
                    <span>1300 Words | 7 Min Read</span>
                </div>
                <h3 class="brief-sidebar-title">Montreal Issue #3</h3>
                <div class="brief-content">
                    <ul>
                        <li><strong>The Essentials:</strong> A weekly roundup of must-have items and gear.</li>
                        <li><strong>The Imports:</strong> Discover new finds from around the globe.</li>
                        <li><strong>Next Deliveries:</strong> What's new and what's coming to our shop next.</li>
                    </ul>
                </div>
            </div>
        </aside>

        <article class="main-article">
            <div class="eyebrow-container">
                <img src="harrygraphic2.png" alt="Harry's Icon" class="harry-icon">
                <span class="eyebrow">Harry's Note</span>
            </div>
            <h2 class="article-title">How is Montreal doing this week? Don't bloody ask.</h2>
            <div class="article-body-wrapper" id="harrys-note-wrapper">
                <p>It’s not always easy being rich – just ask Norway’s prime minister. Following re-election last week, Jonas Gahr Støre holds the nation’s purse strings as a cast of competitive coalition partners and critics from...</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dictum non consectetur a erat nam at lectus. Ultricies mi quis hendrit dolor magna. Massa tempor nec feugiat nisl pretium fusce id velit ut. Sed libero enim sed faucibus turpis in eu mi. Facilisi nullam vehicula ipsum a arcu cursus vitae congue. Accumsan lacus vel facilisis volutpat est velit egestas dui. Velit laoreet id donec ultrices tincidunt arcu non sodales. Viverra justo nec ultrices dui sapien eget mi proin. Id diam vel quam elementum pulvinar etiam non quam lacus.</p>
            </div>
            <div class="show-more-container">
                <button id="show-more-btn" class="show-more-btn">Show more</button>
            </div>
        </article>
    </main>
    
    <section id="essentials" class="content-section">
        <h2 class="section-title">Five essentials</h2>
        <div class="essentials-container">
            <div class="essential-item">
                <h3 class="item-title">1. BLAH BLAH BLAH</h3>
                <p class="item-description">It’s not always easy being rich – just ask Norway’s prime minister. Following re-election last week, Jonas Gahr Støre holds the nation’s purse strings as a cast of competitive coalition partners and critics from...
                <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dictum non consectetur a erat nam at lectus. Ultricies mi quis hendrit dolor magna. Massa tempor nec feugiat nisl pretium fusce id velit ut. Sed libero enim sed faucibus turpis in eu mi. Facilisi nullam vehicula ipsum a arcu cursus vitae congue. Accumsan lacus vel facilisis volutpat est velit egestas dui. Velit laoreet id donec ultrices tincidunt arcu non sodales. Viverra justo nec ultrices dui sapien eget mi proin. Id diam vel quam elementum pulvinar etiam non quam lacus.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">2. A Global Stance</h3>
                <p class="item-description">Britain, Canada and Australia confirmed on Sunday that they now formally recognize Palestinian statehood, piling pressure on Israel to ease the humanitarian crisis in Gaza and putting three major American allies at odds with the Trump administration. The widely expected announcements came on the eve of the annual gathering of the United Nations General Assembly in New York. France and Portugal have also pledged to vote for recognition of Palestinian statehood at the U.N. this week, joining some 150 members of the body who have already done so.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">3. A Durable Tote Bag</h3>
                <p class="item-description">Massa tempor nec feugiat nisl pretium fusce id velit ut. Sed libero enim sed faucibus turpis in.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">4. Quality Sunglasses</h3>
                <p class="item-description">Facilisi nullam vehicula ipsum a arcu cursus vitae congue. Accumsan lacus vel facilisis.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">5. A Classic Watch</h3>
                <p class="item-description">Velit laoreet id donec ultrices tincidunt arcu non sodales. Viverra justo nec ultrices dui.</p>
            </div>
        </div>
    </section>

    <section id="imports" class="content-section">
        <h2 class="section-title">The Imports</h2>
        <div class="map-container">
            <img src="The Gazette.png" alt="World map of imports from The Gazette" class="map-image">
        </div>
        <div class="essentials-container">
            <div class="essential-item">
                <h3 class="item-title">Artisanal Ceramics</h3>
                <p class="item-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">Leather Notebook</h3>
                <p class="item-description">Dictum non consectetur a erat nam at lectus. Ultricies mi quis hendrit dolor magna.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">Minimalist Desk Lamp</h3>
                <p class="item-description">Massa tempor nec feugiat nisl pretium fusce id velit ut. Sed libero enim sed faucibus turpis in.</p>
            </div>
        </div>
    </section>

    <section id="deliveries" class="content-section">
        <h2 class="section-title">Next Deliveries</h2>
        <div class="essentials-container">
            <div class="essential-item">
                <h3 class="item-title">A Weatherproof Trench Coat</h3>
                <p class="item-description">Arriving just in time for the shifting seasons, this classic trench is cut from water-repellent Italian cotton. A perfect transitional piece for city life, it’s tailored for a clean silhouette that works over a suit or a simple sweater.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">Portuguese Stoneware</h3>
                <p class="item-description">Hand-finished in a family-run studio in the Algarve, our new collection of stoneware brings a rustic yet refined touch to the table. Each piece is unique, featuring a reactive glaze that creates subtle variations in colour.</p>
            </div>
            <div class="essential-item">
                <h3 class="item-title">The Perfect Carry-on</h3>
                <p class="item-description">Engineered in Germany, this lightweight polycarbonate carry-on is designed for the modern traveler. It features a silent wheel system, an integrated power bank, and a thoughtfully organized interior to make your journey seamless.</p>
            </div>
        </div>
    </section>
    
    <section id="cannoli" class="content-section">
        <h2 class="section-title">The Cannoli</h2>
        <div class="cannoli-section-content">
            <div class="cannoli-text-content">
                <div class="essential-item" style="border-top: none; padding-top: 0;">
                    <h3 class="item-title">Sweet, Sweet Perfection</h3>
                    <p class="item-description">Originating from Sicily, cannoli are a staple of Italian pastry, cherished for their crispy fried shell and creamy ricotta filling. Traditionally, the shells are made from flour, sugar, and a hint of cocoa, then fried until golden and crisp. The filling is a delectable blend of fresh ricotta cheese, often sweetened with sugar, flavored with vanilla or citrus zest, and sometimes studded with chocolate chips or candied fruit.</p>
                </div>
                <div class="essential-item">
                    <h3 class="item-title">A Delicate Art</h3>
                    <p class="item-description">Crafting the perfect cannoli is an art form. The dough must be worked to the right consistency to achieve that signature crunch, and the ricotta filling requires careful preparation to be smooth and light. Each cannolo is typically filled just before serving to prevent the shell from becoming soggy, ensuring every bite delivers a delightful contrast between the delicate, crisp exterior and the rich, sweet interior.</p>
                </div>
            </div>
            <div class="cannoli-image-container">
                <img src="sweet.png" alt="Person eating a cannoli" class="cannoli-image">
            </div>
        </div>
    </section>

    <section id="coffee" class="content-section">
        <h2 class="section-title">Coffee Review</h2>
        <div class="essentials-container">
            <div class="essential-item" style="border-top: none; padding-top: 0;">
                <h3 class="item-title">In the Plateau, Café Tere</h3>
                <p class="item-description">Nestled on a quiet corner in the Plateau, Café Tere offers a respite from the city's bustle. The aroma of freshly ground Ethiopian beans hits you the moment you walk in. We tried their signature single-origin pour-over, a brew that’s both bright and complex with notes of citrus and jasmine. The baristas are knowledgeable and passionate, happy to guide you through their curated selection of beans. It's a small space with limited seating, but for a truly exceptional cup of coffee, it's well worth the visit.</p>
            </div>
        </div>
    </section>

    <div id="signInModal" class="modal-overlay" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h2 class="modal-header-text">Sign In</h2>
            <form id="signInForm" class="modal-form">
                <label for="signInEmail" class="form-label">Email Address</label>
                <input type="email" id="signInEmail" name="signInEmail" class="form-input" required placeholder="name@example.com">
                <label for="signInPassword" class="form-label">Password</label>
                <input type="password" id="signInPassword" name="signInPassword" class="form-input" required placeholder="••••••••••••">
                <button type="submit" class="modal-btn">Sign In</button>
            </form>
            <div class="modal-links">
                <button class="modal-link-btn" id="forgotPasswordBtn">Forgot Password?</button>
                <button class="modal-link-btn" id="goToJoinBtnFromSignIn">Don't have an account? Join us</button>
            </div>
        </div>
    </div>
    <div id="joinModal" class="modal-overlay" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <p id="modalTagline" class="modal-tagline"></p>
            
            <form id="joinFormStep1" class="modal-form">
                <label for="joinEmail" class="form-label">Email Address</label>
                <input type="email" id="joinEmail" name="joinEmail" class="form-input" required placeholder="name@example.com">
                <button type="submit" class="modal-btn">Continue</button>
            </form>

            <form id="joinFormStep2" class="modal-form hidden">
                <label for="joinName" class="form-label">Your Name</label>
                <input type="text" id="joinName" name="joinName" class="form-input" required placeholder="First and last name">
                
                <label for="joinPassword" class="form-label">Create a Password</label>
                <input type="password" id="joinPassword" name="joinPassword" class="form-input" required placeholder="At least 6 characters">
                
                <label style="display: flex; align-items: center; gap: 10px; font-family: var(--font-sans); font-size: 0.9rem; margin-top: 0.5rem;">
                    <input type="checkbox" id="joinNewsletter" name="joinNewsletter" checked>
                    Receive weekly updates
                </label>
                
                <button type="submit" class="modal-btn">Create Account</button>
            </form>
            
            <div class="modal-links">
                <button class="modal-link-btn" id="goToSignInBtnFromJoin">Already have an account? Sign In</button>
            </div>
        </div>
    </div>
    <div id="toast-container"></div>
    <div id="sticky-signup-banner" class="sticky-signup-banner">
        <div class="sticky-signup-content">
            <div class="sticky-signup-text">
                <h3>Get the full haul.</h3>
                <p>Join our community to get full access to every story, event, and special offer.</p>
            </div>
            <form id="sticky-signup-form" class="sticky-signup-form">
                <div data-step="1" class="sticky-form-step">
                    <input type="email" id="sticky-email" placeholder="Your email address" class="sticky-input" required>
                    <button type="button" id="sticky-next-btn" class="sticky-btn">Next</button>
                </div>
                <div data-step="2" class="sticky-form-step hidden">
                    <input type="text" id="sticky-name" placeholder="Your Name" class="sticky-input" required>
                    <input type="password" id="sticky-password" placeholder="Create Password" class="sticky-input" required>
                    <button type="submit" class="sticky-btn">Join Now</button>
                </div>
            </form>
        </div>
    </div>
        <!-- MY ACCOUNT PANEL -->
    <div id="account-panel-overlay" class="account-panel-overlay">
        <div id="account-panel" class="account-panel">
            <div class="account-panel-header">
                <h2 id="account-greeting">Bonjour!</h2>
                <button id="account-panel-close-btn" class="account-panel-close-btn">&times;</button>
            </div>
    
            <div class="account-panel-content">
    
                <div class="account-section">
                    <h3 class="account-section-title">Newsletter</h3>
                    <div class="newsletter-toggle">
                        <p>Receive weekly updates from The News Haul.</p>
                        <label class="switch">
                            <input type="checkbox" id="newsletter-checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
    
                <div class="account-section">
                    <div id="personal-details-toggle" class="collapsible-header">
                        <h3 class="account-section-title">Personal Details</h3>
                        <span class="collapsible-arrow">&#9662;</span>
                    </div>
                    <div id="personal-details-content" class="collapsible-content">
                        <form id="account-details-form">
                            <label for="account-name">Name</label>
                            <input type="text" id="account-name" class="account-input">
                            <label for="account-email">Email</label>
                            <input type="email" id="account-email" class="account-input" disabled>
                            <button type="submit" class="btn-account-save">Save Changes</button>
                        </form>
                        <form id="account-password-form" class="account-section-subsection">
                            <label for="account-password">New Password</label>
                            <input type="password" id="account-password" class="account-input" placeholder="Leave blank to keep current">
                            <button type="submit" class="btn-account-save">Change Password</button>
                        </form>
                        <div class="account-section-subsection">
                             <button id="delete-account-btn" class="btn-account-action btn-danger">Delete Account</button>
                        </div>
                    </div>
                </div>
    
                <div class="account-section">
                     <button id="logout-btn" class="btn-account-action">Log Out</button>
                </div>
    
            </div>
        </div>
    </div>
    <div id="how-it-works-panel-overlay" class="account-panel-overlay">
        <div id="how-it-works-panel" class="account-panel from-left">
            <div class="account-panel-header">
                <h2>How The Haul Works</h2>
                <button id="how-it-works-panel-close-btn" class="account-panel-close-btn">&times;</button>
            </div>

            <div class="account-panel-content">
                <div class="account-section">
                    <h3 class="item-title">What Is The News Haul?</h3>
                    <p class="item-description">I’m Harry North, a reporter at The Montreal Gazette. Each week, I cover breaking news across the city — on the ground, in real time, speaking with the people it affects.</p>
                    <p class="item-description">But in the rush of daily headlines, one question often gets lost: What actually matters?</p>
                    <p class="item-description">This is what guides the News Haul. Indeed this isn’t a stream of alerts. It’s a weekly, curated briefing that intends to bring the most important, revealing, and delightful stories from Montreal and beyond. Stories that you tell your family and friends in conversation. Stories that make you think a bit.</p>
                    <p class="item-description">Think of it as a well-edited market basket of journalism: fresh, selective, and worth your time.</p>
                </div>
                <div class="account-section">
                    <h3 class="item-title">The Format: 5–3–2–1</h3>
                    <p class="item-description">Each edition follows a rough structure:</p>
                    <p class="item-description"><strong>5 Essentials.</strong> These are the stories that defined the week in Montreal.</p>
                    <p class="item-description"><strong>3 Imports.</strong> Global developments with local relevance in Montreal.</p>
                    <p class="item-description"><strong>2 Next Deliveries.</strong> Signals and shifts to watch in the week ahead.</p>
                    <p class="item-description"><strong>1 Cannoli.</strong> A lighter or surprising story to end on a sweet note.</p>
                </div>
                <div class="account-section">
                    <h3 class="item-title">Community With a Side of Creativity</h3>
                    <p class="item-description">Good journalism should spark conversation — not just headlines. The News Haul is built for people who care about the city, who want to share stories, and who don’t mind a little wit with their weekend reading.</p>
                    <p class="item-description">It’s also a space to test new features. For example, try highlighting text and commenting directly on the parts that catch your attention.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="comment-ui-container"></div>

    <script type="module" src="firebase-init.js"></script>
    <script type="module" src="main.js"></script>
    <script src="scroll-spy.js"></script>
    <script src="type-on-scroll.js" defer></script>
    <script type="module" src="commenting.js"></script>
</body>
</html>
